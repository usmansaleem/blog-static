var blogApp=angular.module('blogApp',['ngRoute','ngSanitize']);blogApp.config(['$routeProvider',function($routeProvider){$routeProvider.when('/',{templateUrl:'pages/home.html',controller:'mainCtrl'}).when('/about',{templateUrl:'pages/about.html',controller:'aboutCtrl'}).otherwise({redirectTo:'/'})}]);blogApp.controller('mainCtrl',['$scope','$http','$log','$sce',function($scope,$http,$log,$sce){$scope.trustBlogHtml=function(html){return $sce.trustAsHtml(html)};$scope.pageChanged=function(num){if(num>=1&&num<=$scope.lastPage){$scope.bigCurrentPage=num;$http.get('rest/blog/blogItems/'+$scope.bigCurrentPage).then(function(response){$scope.blogItems=response.data;window.scrollTo(0,0)})}};$scope.getBlogMeta=function(){$http.get('rest/blog/blogMeta').then(function(response){$scope.blogMeta=response.data;$scope.lastPage=$scope.blogMeta.pageCount;$scope.pageChanged(1)})};$scope.showJumbotron=function(){return $scope.bigCurrentPage===1};$scope.pageClass='page-home';$scope.bigCurrentPage=1;$scope.lastPage=1;$scope.getBlogMeta()}]);blogApp.controller('aboutCtrl',['$scope',function($scope){$scope.pageClass='page-about'}])
